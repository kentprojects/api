#
# @author: James Dryden <james.dryden@kentprojects.com>
# @license: Copyright KentProjects
# @link: http://kentprojects.com
#

ServerAdmin developers@kentprojects.com
ServerName john.kentprojects.com

# Close everything off.
<Directory "/">
	Options -Indexes +FollowSymLinks
	AllowOverride None
	Require all denied
</Directory>

# Generic Apache landing page for idiots who hit us by the server's IP address.
<VirtualHost *:80>
	DocumentRoot /var/www/html
	ErrorLog ${APACHE_LOG_DIR}/error.log
	CustomLog ${APACHE_LOG_DIR}/access.log combined
	<Directory "/var/www/html">
    	Require all granted
    </Directory>
</VirtualHost>

# KentProjects API
<VirtualHost *:80>
	ServerName api.kentprojects.com

	ErrorLog ${APACHE_LOG_DIR}/kentprojects.api.error.log
	CustomLog ${APACHE_LOG_DIR}/kentprojects.api.access.log combined

	Alias /auth /var/www/kentprojects-api/authentication.php
	<Location "/auth">
		Require all granted
	</Location>

	Alias / /var/www/kentprojects-api/api.php/
	<Location "/">
		Require all granted
	</Location>
</VirtualHost>

# KentProjects API Documentation
<VirtualHost *:80>
	ServerName docs.kentprojects.com
	DocumentRoot /var/www/kentprojects-api/docs/_site
	<Directory "/var/www/kentprojects-api/docs/_site">
		Require all granted
	</Directory>
	ErrorLog ${APACHE_LOG_DIR}/kentprojects.docs.error.log
	CustomLog ${APACHE_LOG_DIR}/kentprojects.docs.access.log combined
	ErrorDocument 404 /404.html
</VirtualHost>

# KentProjects Web
<VirtualHost *:80>
	ServerName kentprojects.com
	ServerAlias www.kentprojects.com
	DocumentRoot /var/www/kentprojects-web/public
	<Directory "/var/www/kentprojects-web/public">
		Require all granted
	</Directory>
	ErrorLog ${APACHE_LOG_DIR}/kentprojects.web.error.log
	CustomLog ${APACHE_LOG_DIR}/kentprojects.web.access.log combined
</VirtualHost>

# vim: syntax=apache ts=4 sw=4 sts=4 sr noet